<!doctype html>
<html ng-app="tegmarkApp" lang="en">
  <head>
    <base href="/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Tegmark: render and interact with worlds generated by Everett.">
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="shortcut icon" href="img/favicon.ico">
    <title>Tegmark</title>
  </head>
  <body>
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" ng-href="#/worlds">
            Tegmark
          </a>
				</div>

				<div class="collapse navbar-collapse" ng-controller="LocationCtrl">
					<ul class="nav navbar-nav" ng-cloak>
            <li class="{{active('worlds')}}"><a ng-href="#/worlds">Worlds</a></li>
            <li class="dropdown" ng-controller="RecentCtrl" ng-show="recent.length > 0">
              <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Recent worlds <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li ng-repeat="w in recent">
                  <a ng-href="#/world/{{w}}">{{names[w]}}</a>
                </li>
              </ul>
            </li>
					</ul>
          <button class="btn btn-primary navbar-btn navbar-right" ng-controller="WorldListCtrl" ng-click="createAndVisitWorld()">
            Visit new world
          </button>
          <ul class="nav navbar-nav navbar-right" ng-cloak>
            <li ng-controller="IdCtrl">
              <a ng-hide="active('world/') == 'active' || !id" ng-href="#/world/{{id}}">Return to {{name}}</a>
      				<a ng-show="active('world/') == 'active' && !editMode" ng-click="toggleEditMode()">{{name}} <span aria-hidden="true" class="glyphicon glyphicon-pencil" style="padding-left:5px; padding-right:10px;"></span></a>
              <form ng-show="active('world/') == 'active' && editMode" class="navbar-form navbar-left" role="rename">
                <div class="form-group">
                  <input ng-show="editMode" type="text" class="form-control" ng-model="name" placeholder="Click to rename..." ng-blur="renameWorld()">
                </div>
              </form>
            </li>
          </ul>
				</div><!-- /.navbar-collapse -->
			</div>
		</nav>
	  <div class="container">
      <div ng-cloak class="view-container">
        <div ng-view class="view-frame"></div>
      </div>
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/angular.js"></script>
    <script src="js/angular-resource.min.js"></script>
    <script src="js/angular-route.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/d3.min.js" charset="utf-8"></script>
    <script src="js/topojson.js" charset="utf-8"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/services.js"></script>
    <script src="js/directives.js"></script>
  </body>
</html>
